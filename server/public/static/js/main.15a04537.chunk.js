(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(10),o=n.n(i),s=(n(91),n(92),n(15)),c=n(16),d=n(9),l=n(18),u=n(17),p=(n(93),n(94),n(42)),h=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"button-menu"},a.a.createElement(p.b,{to:this.props.to},this.props.text))}}]),n}(r.Component),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={width:0,height:0},r.updateWindowDimensions=r.updateWindowDimensions.bind(Object(d.a)(r)),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e={};return this.state.width<=650&&(e.justifyContent="center"),a.a.createElement("div",{className:"header",style:e},this.state.width>650&&a.a.createElement("div",{className:"title"},a.a.createElement("h2",null,"Desafio Dourasoft")),a.a.createElement("div",{className:"menu"},a.a.createElement(h,{to:"/clientes",text:"Clientes"}),a.a.createElement(h,{to:"/produtos",text:"Produtos"}),a.a.createElement(h,{to:"/pedidos",text:"Pedidos"})))}}]),n}(r.Component),m=n(13),E=n(31),g=(n(57),n(143)),v=(n(100),n(101),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.style||{},t={};return t.height=this.props.imgStyle&&this.props.imgStyle.height||e.height||24,t.width=this.props.imgStyle&&this.props.imgStyle.width||e.width||24,a.a.createElement("div",{className:"circle-button",title:this.props.title,style:e,onClick:this.props.onClick},a.a.createElement("img",{style:t,alt:"",src:this.props.icon}))}}]),n}(r.Component)),C=n(37),b=n.n(C),y=n(38),O=n.n(y),S=n(39),T=n.n(S),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={nome:r.props.nome||"",telefone:r.props.telefone||"",endereco:r.props.endereco||"",id:r.props.id},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.failure||{},n={},r={backgroundColor:"rgb(242, 205, 141)"},i="create"===this.props.variant?"secondary":"primary",o=O.a;return"create"===this.props.variant&&(o=T.a,r.backgroundColor="rgb(97, 205, 187)",n.borderTop="6px solid rgb(244, 117, 96)"),a.a.createElement("div",{className:"client-card",style:n},a.a.createElement("div",{style:{alignSelf:"flex-start",margin:"10px 0px 0px 10px"}},a.a.createElement(v,{icon:o,style:r,onClick:function(){return e.props.onLeftClick&&e.props.onLeftClick(e.state)}})),a.a.createElement("div",{className:"attributes"},a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:i,variant:"filled",id:"client_name"+this.props.id,label:"Nome",fullWidth:!0,error:Boolean(t.nome),helperText:t.nome,value:this.state.nome,onChange:function(t){return e.setState({nome:t.target.value})}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:i,variant:"filled",id:"address"+this.props.id,label:"Endere\xe7o",fullWidth:!0,error:Boolean(t.endereco),helperText:t.endereco,value:this.state.endereco,onChange:function(t){return e.setState({endereco:t.target.value})}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:i,variant:"filled",fullWidth:!0,id:"phone"+this.props.id,label:"Telefone",value:this.state.telefone,onChange:function(t){return e.setState({telefone:t.target.value})}}))),a.a.createElement("div",{style:{alignSelf:"flex-start",margin:"10px 10px 0px 0px"}},a.a.createElement(v,{icon:b.a,style:{height:30,width:30,backgroundColor:"rgb(245, 234, 138)"},onClick:this.props.onRightClick})))}}]),n}(r.Component),j=n(53),P=n.n(j),_=n(19),R=n.n(_),w=function(e){return function(t){return t({type:"FETCH_CLIENTS_REQUEST"}),R()("/api/clientes").then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(n){return t(function(e,t){return{clients:e,page:t,type:"FETCH_CLIENTS_SUCCESS"}}(n,e))})).catch((function(e){return t({message:e.message,type:"FETCH_CLIENTS_FAILURE"})}))}},U=function(e){return function(t){t({type:"CREATE_CLIENT_REQUEST"});var n={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"same-origin"};return R()("/api/clientes",n).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(e){return t(function(e){return{client:e,type:"CREATE_CLIENT_SUCCESS"}}(e)),e})).catch((function(e){return t({message:e.message,type:"CREATE_CLIENT_FAILURE"})}))}},x=function(e){var t={},n=!1;return e?(e.nome&&e.nome.trim()||(t.nome="Nome Iv\xe1lido",n=!0),e.endereco&&e.endereco.trim()||(t.endereco="Endereco Inv\xe1lido",n=!0),!!n&&t):t},D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={isAddingClient:!1,failureMap:{}},r.createClient=r.createClient.bind(Object(d.a)(r)),r.updateClient=r.updateClient.bind(Object(d.a)(r)),r.deleteClient=r.deleteClient.bind(Object(d.a)(r)),r}return Object(c.a)(n,[{key:"createClient",value:function(e){var t=x(e);if(t){var n=this.state.failureMap;n[e.id||-1]=t,this.setState({failureMap:n})}else{this.props.createClient(e).then(this.setState({isAddingClient:!1}));var r=this.state.failureMap;r[e.id||-1]=void 0,this.setState({failureMap:r})}}},{key:"updateClient",value:function(e){var t=x(e);if(t){var n=this.state.failureMap;n[e.id||-1]=t,this.setState({failureMap:n})}else{this.props.updateClient(e);var r=this.state.failureMap;r[e.id||-1]=void 0,this.setState({failureMap:r})}}},{key:"deleteClient",value:function(e){e&&this.props.deleteClient(e)}},{key:"componentDidMount",value:function(){this.props.fetchClients()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"container-actions"},!this.state.isAddingClient&&a.a.createElement(v,{style:{width:40,height:40,backgroundColor:"rgb(244, 117, 96)",boxShadow:"0 3px 6px rgba(0, 0, 0, .16), 0 1px 2px rgba(0, 0, 0, .23)"},imgStyle:{width:32,height:32},icon:P.a,onClick:function(){return e.setState({isAddingClient:!0})}})),a.a.createElement("div",{className:"card-list"},this.state.isAddingClient&&a.a.createElement(k,{variant:"create",id:"create_client",failure:this.state.failureMap.create_client,onLeftClick:this.createClient,onRightClick:function(){return e.setState({isAddingClient:!1})}}),this.props.clients.map((function(t){return a.a.createElement(k,{key:t.id,nome:t.nome,endereco:t.endereco,telefone:t.telefone,failure:e.state.failureMap[t.id],id:t.id,onRightClick:function(){return e.deleteClient(t.id)},onLeftClick:e.updateClient})}))))}}]),n}(r.Component),A=Object(E.b)((function(e){return{clients:e.clients}}),(function(e){return{fetchClients:function(){return e(w(1))},createClient:function(t){return e(U(t))},updateClient:function(t){return e(function(e){return function(t){if(e){t({type:"UPDATE_CLIENT_REQUEST"});var n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"};return R()("/api/clientes/".concat(e.id),n).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(e){return t(function(e){return{client:e,type:"UPDATE_CLIENT_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"UPDATE_CLIENT_FAILURE"})}))}}}(t))},deleteClient:function(t){return e(function(e){return function(t){if(e||0===e){t({type:"DELETE_CLIENT_REQUEST"});return R()("/api/clientes/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(){return t(function(e){return{id:e,type:"DELETE_CLIENT_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"DELETE_CLIENT_FAILURE"})}))}}}(t))}}}))(D),L=n(23),I=(n(102),n(145)),N=/^\d+(\.?\d*)$/,M=function(e){return e.match(N)||!e.trim()},F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={nome:r.props.nome||"",descricao:r.props.descricao||"",codigo:r.props.codigo||"",preco:r.props.preco?r.props.preco+"":"",id:r.props.id},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.failure||{},n={},r={backgroundColor:"rgb(242, 205, 141)"},i="create"===this.props.variant?"secondary":"primary",o=O.a;return"create"===this.props.variant&&(o=T.a,r.backgroundColor="rgb(97, 205, 187)",n.borderTop="6px solid rgb(244, 117, 96)"),a.a.createElement("div",{className:"client-card",style:n},a.a.createElement("div",{style:{alignSelf:"flex-start",margin:"10px 0px 0px 10px"}},a.a.createElement(v,{icon:o,style:r,onClick:function(){return e.props.onLeftClick&&e.props.onLeftClick(e.state)}})),a.a.createElement("div",{className:"attributes"},a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:i,id:"product_name"+this.props.id,variant:"filled",fullWidth:!0,label:"Nome",error:Boolean(t.nome),helperText:t.nome,value:this.state.nome,onChange:function(t){return e.setState({nome:t.target.value})}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:i,id:"code"+this.props.id,variant:"filled",fullWidth:!0,error:Boolean(t.codigo),helperText:t.codigo,label:"Codigo",value:this.state.codigo,onChange:function(t){return e.setState({codigo:t.target.value})}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:i,id:"price"+this.props.id,variant:"filled",fullWidth:!0,error:Boolean(t.preco),helperText:t.preco,InputProps:{startAdornment:a.a.createElement(I.a,{position:"start"},"R$")},label:"Pre\xe7o",value:this.state.preco,onChange:function(t){return M(t.target.value)&&e.setState({preco:t.target.value})}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:i,id:"description"+this.props.id,variant:"filled",multiline:!0,rows:4,label:"Descri\xe7\xe3o",fullWidth:!0,value:this.state.descricao,onChange:function(t){return e.setState({descricao:t.target.value})}}))),a.a.createElement("div",{style:{alignSelf:"flex-start",margin:"10px 10px 0px 0px"}},a.a.createElement(v,{icon:b.a,style:{height:30,width:30,backgroundColor:"rgb(245, 234, 138)"},onClick:this.props.onRightClick})))}}]),n}(r.Component),W=n(54),H=n.n(W),Q=function(e){return function(t){return t({type:"FETCH_PRODUCTS_REQUEST"}),R()("/api/produtos").then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(n){return t(function(e,t){return{products:e,page:t,type:"FETCH_PRODUCTS_SUCCESS"}}(n,e))})).catch((function(e){return t({message:e.message,type:"FETCH_PRODUCTS_FAILURE"})}))}},q=function(e){var t={},n=!1;return e?(e.nome&&e.nome.trim()||(t.nome="Nome Iv\xe1lido",n=!0),e.codigo&&e.codigo.trim()||(t.codigo="C\xf3digo Inv\xe1lido",n=!0),e.preco&&e.preco.trim()||(t.preco="Pre\xe7o Inv\xe1lido",n=!0),!!n&&t):t},B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={isAddingProduct:!1,failureMap:{}},r.createProduct=r.createProduct.bind(Object(d.a)(r)),r.updateProduct=r.updateProduct.bind(Object(d.a)(r)),r.deleteProduct=r.deleteProduct.bind(Object(d.a)(r)),r}return Object(c.a)(n,[{key:"createProduct",value:function(e){var t=q(e);if(t){var n=this.state.failureMap;n[e.id||-1]=t,this.setState({failureMap:n})}else{(e=Object(L.a)({},e)).preco=parseFloat(e.preco),this.props.createProduct(e).then(this.setState({isAddingProduct:!1}));var r=this.state.failureMap;r[e.id||-1]=void 0,this.setState({failureMap:r})}}},{key:"updateProduct",value:function(e){var t=q(e);if(t){var n=this.state.failureMap;n[e.id||-1]=t,this.setState({failureMap:n})}else{(e=Object(L.a)({},e)).preco=parseFloat(e.preco),this.props.updateProduct(e);var r=this.state.failureMap;r[e.id||-1]=void 0,this.setState({failureMap:r})}}},{key:"deleteProduct",value:function(e){e&&this.props.deleteProduct(e)}},{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"container-actions"},!this.state.isAddingProduct&&a.a.createElement(v,{style:{width:40,height:40,backgroundColor:"rgb(244, 117, 96)",boxShadow:"0 3px 6px rgba(0, 0, 0, .16), 0 1px 2px rgba(0, 0, 0, .23)"},imgStyle:{height:32,width:32},icon:H.a,onClick:function(){return e.setState({isAddingProduct:!0})}})),a.a.createElement("div",{className:"card-list"},this.state.isAddingProduct&&a.a.createElement(F,{variant:"create",id:"create_product",failure:this.state.failureMap.create_product,onLeftClick:this.createProduct,onRightClick:function(){return e.setState({isAddingProduct:!1})}}),this.props.products.map((function(t){return a.a.createElement(F,{key:t.id,nome:t.nome,codigo:t.codigo,preco:t.preco,descricao:t.descricao,id:t.id,failure:e.state.failureMap[t.id],onRightClick:function(){return e.deleteProduct(t.id)},onLeftClick:e.updateProduct})}))))}}]),n}(r.Component),J=Object(E.b)((function(e){return{products:e.products}}),(function(e){return{fetchProducts:function(){return e(Q(1))},createProduct:function(t){return e(function(e){return function(t){t({type:"CREATE_PRODUCT_REQUEST"});var n={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"same-origin"};return R()("/api/produtos",n).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(e){return t(function(e){return{product:e,type:"CREATE_PRODUCT_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"CREATE_PRODUCT_FAILURE"})}))}}(t))},updateProduct:function(t){return e(function(e){return function(t){if(e){t({type:"UPDATE_PRODUCT_REQUEST"});var n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"};return R()("/api/produtos/".concat(e.id),n).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(e){return t(function(e){return{product:e,type:"UPDATE_PRODUCT_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"UPDATE_PRODUCT_FAILURE"})}))}}}(t))},deleteProduct:function(t){return e(function(e){return function(t){if(e||0===e){t({type:"DELETE_PRODUCT_REQUEST"});return R()("/api/produtos/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(){return t(function(e){return{id:e,type:"DELETE_PRODUCT_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"DELETE_PRODUCT_FAILURE"})}))}}}(t))}}}))(B),$=n(61),z=n(20),V=(n(103),n(71)),Y=n.n(V),G=n(72),K=n.n(G),X=n(144),Z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={status:r.props.status||"Aberto",selectedClient:r.props.client||null,total:r.props.total||"",nome:r.props.nome||"",telefone:r.props.telefone||"",endereco:r.props.endereco||"",id:r.props.id,isExpanded:!1,createClient:!1,products:[],addProduct:{nome:"",quantidade:"",valor:""}},r.setProduct=r.setProduct.bind(Object(d.a)(r)),r.getProduct=r.getProduct.bind(Object(d.a)(r)),r.addProduct=r.addProduct.bind(Object(d.a)(r)),r.removeProduct=r.removeProduct.bind(Object(d.a)(r)),r.makeProductElement=r.makeProductElement.bind(Object(d.a)(r)),r.makeAllProductElements=r.makeAllProductElements.bind(Object(d.a)(r)),r.makeRemoveElements=r.makeRemoveElements.bind(Object(d.a)(r)),r.getTotal=r.getTotal.bind(Object(d.a)(r)),r.getOrder=r.getOrder.bind(Object(d.a)(r)),r.loadProducts=r.loadProducts.bind(Object(d.a)(r)),r}return Object(c.a)(n,[{key:"loadProducts",value:function(){var e=this,t=this.state.products;return t&&0===t.length&&this.props.products&&this.props.products.length>0&&(t=Object(z.a)(this.props.products)),this.props.loadProducts?this.state.isExpanded?this.setState({isExpanded:!1,products:t}):void this.props.loadProducts().then((function(){return e.setState({products:Object(z.a)(e.props.products),isExpanded:!0,isProductsLoaded:!0})})):this.setState({isExpanded:!this.state.isExpanded,isProductsLoaded:!0,products:t})}},{key:"getOrder",value:function(){for(var e=[],t=this.state.selectedClient&&parseInt(this.state.selectedClient.id),n={nome:this.state.nome,endereco:this.state.endereco,telefone:this.state.telefone},r=this.state.status,a=-1;a<this.state.products.length;a++){var i=this.getProduct(a);i.info&&e.push({produtoId:parseInt(i.info.id),quantidade:parseInt(i.quantidade),valorUnitario:parseFloat(i.valor)})}var o={status:r};return this.state.isProductsLoaded&&(o.produtos=e),(this.props.id||0===this.props.id)&&(o.id=this.props.id),this.state.createClient?o.cliente=n:o.clienteId=t,o}},{key:"setProduct",value:function(e,t){if(-1===e)this.setState({addProduct:Object(L.a)(Object(L.a)({},this.state.addProduct),t)});else if(e<this.state.products.length&&e>=0){var n=this.state.products;n[e]=Object(L.a)(Object(L.a)({},n[e]),t),this.setState({products:n})}}},{key:"getProduct",value:function(e){return-1===e?this.state.addProduct:e<this.state.products.length&&e>=0?this.state.products[e]:{}}},{key:"getTotal",value:function(){for(var e=0,t=-1;t<this.state.products.length;t++){var n=this.getProduct(t),r=parseInt(n.quantidade),a=parseFloat(n.valor);a&&r&&(e+=a*r)}return e&&e.toFixed(2)}},{key:"addProduct",value:function(){if(this.state.addProduct&&this.state.addProduct.info){var e=this.state.products;e.unshift(this.state.addProduct),this.setState({products:e,addProduct:{nome:"",quantidade:"",valor:""}})}}},{key:"removeProduct",value:function(e){var t=this.state.products;e<t.length&&e>=0&&(t.splice(e,1),this.setState({products:t}))}},{key:"makeRemoveElements",value:function(){for(var e=this,t=[],n={width:30,height:30,backgroundColor:"rgb(244, 117, 96)"},r=function(r){t.push(a.a.createElement(a.a.Fragment,{key:r},a.a.createElement("div",{style:{height:34}}),a.a.createElement(v,{style:n,icon:b.a,onClick:function(){return e.removeProduct(r)}})))},i=0;i<this.state.products.length;i++)r(i);return t}},{key:"makeAllProductElements",value:function(){for(var e=[],t=-1;t<this.state.products.length;t++)e.push(this.makeProductElement(t,-1===t?"secondary":"primary"));return e}},{key:"makeProductElement",value:function(e,t){var n=this,r=this.props.productOptions||[],i=this.getProduct(e);return a.a.createElement("div",{key:this.state.products.length-e,className:"products-attributes"},a.a.createElement("div",null,a.a.createElement(X.a,{id:"auto_product_name"+this.props.id+e,options:r,getOptionLabel:function(e){return e.nome},disableClearable:!0,value:i.info?i.info:null,onChange:function(t,r){return n.setProduct(e,{valor:r&&r.preco?r.preco:"",quantidade:""+(parseInt(i.quantidade)||1),info:r})},style:{width:200},renderInput:function(e){return a.a.createElement(g.a,Object.assign({},e,{color:t,variant:"filled",label:"Produto"}))}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:t,variant:"filled",id:"product_quantity"+this.props.id+e,label:"Quantidade",type:"number",value:i.quantidade,onChange:function(t){return parseInt(t.target.value)>0&&n.setProduct(e,{quantidade:""+parseInt(t.target.value)})}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:t,variant:"filled",id:"value"+this.props.id+e,label:"Valor Unit\xe1rio",value:i.valor,InputProps:{startAdornment:a.a.createElement(I.a,{position:"start"},"R$")},onChange:function(t){return M(t.target.value)&&t.target.value>=0&&n.setProduct(e,{valor:t.target.value})}})))}},{key:"render",value:function(){var e=this,t="",n=this.props.data&&new Date(this.props.data);if(n){var r=n.getUTCDate().toString(),i=n.getHours().toString(),o=n.getMinutes().toString();i=1===i.length?"0"+i:i,o=1===o.length?"0"+o:o,r=1===r.length?"0"+r:r,t="".concat(r,"/").concat(n.getMonth()+1,"/").concat(n.getFullYear()," - ").concat(i,":").concat(o)}var s=this.props.clientOptions||[],c=0;this.props.failure&&(this.props.failure.clienteId||this.props.failure.cliente&&(this.props.failure.cliente.endereco||this.props.failure.cliente.nome))&&(c=22);var d="create"===this.props.variant?"secondary":"primary",l={},u={backgroundColor:"rgb(242, 205, 141)"},p={width:30,height:30,backgroundColor:"rgb(247, 152, 136)"},h=O.a;if("create"===this.props.variant)h=T.a,u.backgroundColor="rgb(97, 205, 187)",l.borderTop="6px solid rgb(244, 117, 96)";else switch(this.state.status){case"Aberto":l.borderTop="6px solid rgb(241, 225, 91)";break;case"Entregue":l.borderTop="6px solid rgb(97, 205, 187)";break;case"Cancelado":l.borderTop="6px solid rgb(232, 168, 56)"}var f=a.a.createElement("div",{className:"order-specifics",style:{width:this.props.data?446:266}},a.a.createElement("div",null,a.a.createElement(X.a,{id:"auto_status"+this.props.id,options:["Aberto","Entregue","Cancelado"],disableClearable:!0,value:this.state.status,onChange:function(t,n){return e.setState({status:n})},style:{width:133},renderInput:function(t){return a.a.createElement(g.a,Object.assign({},t,{color:d,variant:"filled",fullWidth:!0,id:"status"+e.props.id,label:"Status"}))}})),a.a.createElement("div",{style:{width:103}},a.a.createElement(g.a,{color:d,variant:"filled",id:"total"+this.props.id,label:"Total",fullWidth:!0,disabled:!0,InputProps:{startAdornment:a.a.createElement(I.a,{position:"start"},"R$")},value:this.state.isProductsLoaded?this.getTotal():this.state.total})),this.props.data&&a.a.createElement("div",{style:{width:162}},a.a.createElement(g.a,{color:d,variant:"filled",id:"date"+this.props.id,label:"Data",fullWidth:!0,disabled:!0,value:t}))),m=this.state.createClient?a.a.createElement(g.a,{color:d,variant:"filled",fullWidth:!0,id:"client_name"+this.props.id,label:"Nome",error:Boolean(this.props.failure&&this.props.failure.cliente&&this.props.failure.cliente.nome),helperText:this.props.failure&&this.props.failure.cliente&&this.props.failure.cliente.nome,value:this.state.nome,onChange:function(t){return e.setState({nome:t.target.value})}}):a.a.createElement(X.a,{id:"auto_client_name"+this.props.id,options:s,getOptionLabel:function(e){return e.nome},disableClearable:!0,value:this.state.selectedClient,onChange:function(t,n){return e.setState({selectedClient:n})},style:{width:200},renderInput:function(t){return a.a.createElement(g.a,Object.assign({},t,{color:d,variant:"filled",fullWidth:!0,error:Boolean(e.props.failure&&e.props.failure.clienteId),helperText:e.props.failure&&e.props.failure.clienteId,id:"client_name"+e.props.id,label:"Nome"}))}}),E=a.a.createElement("div",{className:"client-attributes"},a.a.createElement("div",{style:{width:200}},m),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:d,variant:"filled",fullWidth:!0,id:"address"+this.props.id,disabled:!this.state.createClient,error:Boolean(this.props.failure&&this.props.failure.cliente&&this.props.failure.cliente.endereco),helperText:this.props.failure&&this.props.failure.cliente&&this.props.failure.cliente.endereco,label:"Endere\xe7o",value:this.state.createClient?this.state.endereco:this.state.selectedClient&&this.state.selectedClient.endereco?this.state.selectedClient.endereco:"",onChange:function(t){return e.setState({endereco:t.target.value})}})),a.a.createElement("div",{style:{width:200}},a.a.createElement(g.a,{color:d,variant:"filled",fullWidth:!0,id:"phone"+this.props.id,disabled:!this.state.createClient,label:"Telefone",value:this.state.createClient?this.state.telefone:this.state.selectedClient&&this.state.selectedClient.telefone?this.state.selectedClient.telefone:"",onChange:function(t){return e.setState({telefone:t.target.value})}})));return a.a.createElement("div",{className:"order-card",style:l},a.a.createElement("div",{style:{height:this.state.isExpanded?240:120},className:"order-buttons-left"},a.a.createElement(v,{icon:h,style:u,onClick:function(){return e.props.onLeftClick&&e.props.onLeftClick(e.getOrder())}}),a.a.createElement("div",{style:{height:57}}),a.a.createElement(v,{style:p,imgStyle:{height:24,width:24},icon:this.state.createClient?K.a:P.a,title:this.state.createClient?"Utilizar lista de Clientes":"Criar Cliente",onClick:function(){return e.setState({createClient:!e.state.createClient})}}),a.a.createElement("div",{style:{height:47+c}}),a.a.createElement(v,{style:p,imgStyle:{height:24,width:24},icon:H.a,onClick:this.addProduct})),a.a.createElement("div",{className:"order-attributes"},f,E,a.a.createElement("div",{style:{height:this.state.isExpanded?64*(this.state.products.length+1):0},className:"products-list"},this.makeAllProductElements())),a.a.createElement("div",{style:{height:this.state.isExpanded?240+c+64*this.state.products.length:120},className:"order-buttons-right"},a.a.createElement(v,{icon:b.a,style:{height:30,width:30,backgroundColor:"rgb(245, 234, 138)"},onClick:this.props.onRightClick}),a.a.createElement("div",{style:{height:57}}),a.a.createElement(v,{style:this.state.isExpanded?{width:30,height:30,backgroundColor:"rgb(247, 152, 136)"}:{width:30,height:30,backgroundColor:"rgb(244, 117, 96)",transform:"rotate(180deg)"},icon:Y.a,onClick:this.loadProducts}),this.state.isExpanded&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{height:74+c}}),this.makeRemoveElements())))}}]),n}(r.Component),ee=n(74),te=n.n(ee),ne=function(e){var t={},n=!1;if(!e)return t;if(e.cliente){var r=x(e.cliente);r&&(n=!0,t.cliente=r)}else e.clienteId||0===e.clienteId||(n=!0,t.clienteId="Cliente Inv\xe1lido");return!!n&&t},re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={isAddingOrder:!1,failureMap:{},isClientsLoaded:!1,isProductsLoaded:!1},r.createOrder=r.createOrder.bind(Object(d.a)(r)),r.updateOrder=r.updateOrder.bind(Object(d.a)(r)),r.deleteOrder=r.deleteOrder.bind(Object(d.a)(r)),r.makeOrders=r.makeOrders.bind(Object(d.a)(r)),r}return Object(c.a)(n,[{key:"createOrder",value:function(e){var t=this,n=function(e){var t=ne(e)||{},n=!1;return(!e.produtos||e.produtos.length<1)&&(n=!0,t.produtos="Produtos Inv\xe1lidos"),!!n&&t}(e);if(n){var r=this.state.failureMap;r[e.id||-1]=n,this.setState({failureMap:r})}else{e.cliente?this.props.createClient(e.cliente).then((function(n){n&&n.id&&(e.clienteId=n.id,t.props.createOrder(e).then((function(){return t.setState({isAddingOrder:!1})})))})):this.props.createOrder(e).then((function(){return t.setState({isAddingOrder:!1})}));var a=this.state.failureMap;a[e.id||-1]=void 0,this.setState({failureMap:a})}}},{key:"updateOrder",value:function(e){var t=this,n=ne(e);if(n){var r=this.state.failureMap;r[e.id||-1]=n,this.setState({failureMap:r})}else{e.cliente?this.props.createClient(e.cliente).then((function(n){n&&n.id&&(e.clienteId=n.id,t.props.updateOrder(e))})):this.props.updateOrder(e);var a=this.state.failureMap;a[e.id||-1]=void 0,this.setState({failureMap:a})}}},{key:"deleteOrder",value:function(e){(e||0===e)&&this.props.deleteOrder(e)}},{key:"componentDidMount",value:function(){var e=this;this.props.fetchProducts().then((function(){return e.setState({isProductsLoaded:!0})})),this.props.fetchClients().then((function(){return e.setState({isClientsLoaded:!0})})),this.props.fetchOrders()}},{key:"makeOrders",value:function(){var e,t=this,n=[],r=Object($.a)(this.props.orders);try{var i=function(){var r=e.value,i=r.cliente?t.props.clients.find((function(e){return e.id===r.cliente.id})):{},o=[];if(r.produtos){var s,c=Object($.a)(r.produtos);try{var d=function(){var e=s.value;if(e.produto){var n=e.produto?t.props.products.find((function(t){return t.id===e.produto.id})):null;n&&o.push({nome:e.nome,quantidade:e.quantidade,valor:e.valorUnitario,info:n})}};for(c.s();!(s=c.n()).done;)d()}catch(l){c.e(l)}finally{c.f()}}n.push(a.a.createElement(Z,{key:r.id,id:r.id,nome:i&&i.nome,endereco:i&&i.endereco,telefone:i&&i.telefone,total:r.valorTotal,client:i&&i.nome?i:null,data:r.data,status:r.status,failure:t.state.failureMap[r.id],loadProducts:r.produtos?void 0:function(){return t.props.loadOrderProducts(r.id)},onLeftClick:t.updateOrder,onRightClick:function(){return t.deleteOrder(r.id)},products:o,clientOptions:t.props.clients,productOptions:t.props.products}))};for(r.s();!(e=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"container-actions"},!this.state.isAddingOrder&&a.a.createElement(v,{style:{width:40,height:40,backgroundColor:"rgb(244, 117, 96)",boxShadow:"0 3px 6px rgba(0, 0, 0, .16), 0 1px 2px rgba(0, 0, 0, .23)"},imgStyle:{height:28,width:28},icon:te.a,onClick:function(){return e.setState({isAddingOrder:!0})}})),this.state.isClientsLoaded&&this.state.isProductsLoaded&&a.a.createElement("div",{className:"card-list"},this.state.isAddingOrder&&a.a.createElement(Z,{variant:"create",id:"create_order",clientOptions:this.props.clients,productOptions:this.props.products,failure:this.state.failureMap.create_order,onLeftClick:this.createOrder,onRightClick:function(){return e.setState({isAddingOrder:!1})}}),this.makeOrders()))}}]),n}(r.Component),ae=Object(E.b)((function(e){return{clients:e.clients,products:e.products,orders:e.orders}}),(function(e){return{fetchProducts:function(){return e(Q(1))},fetchClients:function(){return e(w(1))},fetchOrders:function(){return e((t=1,function(e){return e({type:"FETCH_ORDERS_REQUEST"}),R()("/api/pedidos").then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(n){return e(function(e,t){return{orders:e,page:t,type:"FETCH_ORDERS_SUCCESS"}}(n,t))})).catch((function(t){return e({message:t.message,type:"FETCH_ORDERS_FAILURE"})}))}));var t},loadOrderProducts:function(t){return e(function(e){return function(t){return t({type:"FETCH_ORDER_REQUEST"}),R()("/api/pedidos/".concat(e)).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(e){return t(function(e){return{order:e,type:"FETCH_ORDER_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"FETCH_ORDER_FAILURE"})}))}}(t))},createClient:function(t){return e(U(t))},createOrder:function(t){return e(function(e){return function(t){t({type:"CREATE_ORDER_REQUEST"});var n={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"same-origin"};return R()("/api/pedidos",n).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(e){return t(function(e){return{order:e,type:"CREATE_ORDER_SUCCESS"}}(e)),e})).catch((function(e){return t({message:e.message,type:"CREATE_ORDER_FAILURE"})}))}}(t))},updateOrder:function(t){return e(function(e){return function(t){if(e){t({type:"UPDATE_ORDER_REQUEST"});var n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"};return R()("/api/pedidos/".concat(e.id),n).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(e){return t(function(e){return{order:e,type:"UPDATE_ORDER_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"UPDATE_ORDER_FAILURE"})}))}}}(t))},deleteOrder:function(t){return e(function(e){return function(t){if(e||0===e){t({type:"DELETE_ORDER_REQUEST"});return R()("/api/pedidos/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.json().message)})).then((function(){return t(function(e){return{id:e,type:"DELETE_ORDER_SUCCESS"}}(e))})).catch((function(e){return t({message:e.message,type:"DELETE_ORDER_FAILURE"})}))}}}(t))}}}))(re);var ie=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(f,null),a.a.createElement(m.a,{path:["/clientes","/"],exact:!0},a.a.createElement(A,null)),a.a.createElement(m.a,{path:"/produtos"},a.a.createElement(J,null)),a.a.createElement(m.a,{path:"/pedidos"},a.a.createElement(ae,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=n(36),se=n(75),ce=n(76),de={clients:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_CLIENTS_SUCCESS":return n.clients;case"CREATE_CLIENT_SUCCESS":return[n.client].concat(Object(z.a)(t));case"DELETE_CLIENT_SUCCESS":return(e=t.findIndex((function(e){return e.id===n.id})))>-1?(t.splice(e,1),Object(z.a)(t)):t;case"UPDATE_CLIENT_SUCCESS":return(e=t.findIndex((function(e){return e.id===n.client.id})))>-1?(t[e]=n.client,Object(z.a)(t)):t;default:return t}}},le={products:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_PRODUCTS_SUCCESS":return n.products;case"CREATE_PRODUCT_SUCCESS":return[n.product].concat(Object(z.a)(t));case"DELETE_PRODUCT_SUCCESS":return(e=t.findIndex((function(e){return e.id===n.id})))>-1?(t.splice(e,1),Object(z.a)(t)):t;case"UPDATE_PRODUCT_SUCCESS":return(e=t.findIndex((function(e){return e.id===n.product.id})))>-1?(t[e]=n.product,Object(z.a)(t)):t;default:return t}}},ue={orders:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_ORDERS_SUCCESS":return n.orders;case"FETCH_ORDER_SUCCESS":case"UPDATE_ORDER_SUCCESS":return(e=t.findIndex((function(e){return e.id===n.order.id})))>-1?(t[e]=n.order,Object(z.a)(t)):t;case"DELETE_ORDER_SUCCESS":return(e=t.findIndex((function(e){return e.id===n.id})))>-1?(t.splice(e,1),Object(z.a)(t)):t;case"CREATE_ORDER_SUCCESS":return t.unshift(n.order),Object(z.a)(t);default:return t}}},pe=Object(L.a)(Object(L.a)(Object(L.a)({},le),ue),de),he=Object(oe.c)(pe),fe=Object(ce.createLogger)();var me,Ee=n(142),ge=n(77),ve=Object(ge.a)({palette:{primary:{main:"#30665D"},secondary:{main:"#7A3B30"},primaryAlternative:{main:"rgb(232, 168, 56)"},secondaryAlternative:{main:"rgb(241, 225, 91)"}}}),Ce=Object(oe.d)(he,me,Object(oe.a)(se.a,fe));o.a.render(a.a.createElement(E.a,{store:Ce},a.a.createElement(p.a,null,a.a.createElement(Ee.a,{theme:ve},a.a.createElement(ie,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,n){e.exports=n.p+"static/media/delete.d496be2f.svg"},38:function(e,t,n){e.exports=n.p+"static/media/edit.0353934b.svg"},39:function(e,t,n){e.exports=n.p+"static/media/save.b41beb37.svg"},53:function(e,t,n){e.exports=n.p+"static/media/addClient.7f864922.svg"},54:function(e,t,n){e.exports=n.p+"static/media/addProduct.7ac3613f.svg"},57:function(e,t,n){},71:function(e,t,n){e.exports=n.p+"static/media/expand.c62920fc.svg"},72:function(e,t,n){e.exports=n.p+"static/media/client.939e35c1.svg"},74:function(e,t,n){e.exports=n.p+"static/media/addOrder.93feb6d2.svg"},86:function(e,t,n){e.exports=n(104)},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.15a04537.chunk.js.map